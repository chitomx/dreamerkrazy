<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Web App</title>
    <!-- Replace with the actual path to js2me.js -->
    <script src="https://example.com/js2me.js"></script> <!-- Update the path here -->
</head>
<body>
    <button onclick="loadAndRunJar()">Ejecutar JAR</button>

    <script>
        const jarUrl = "https://chitomx.github.io/dreamerkrazy/mini.jar"; // URL del archivo JAR

        function loadAndRunJar() {
            // Verificar si JS2ME estÃ¡ correctamente cargado
            if (typeof JS2ME !== 'undefined') {
                const emulator = new JS2ME.Emulator(); // Crear la instancia del emulador

                // Cargar el archivo JAR usando fetch
                fetch(jarUrl)
                    .then(response => response.blob())
                    .then(blob => {
                        const fileReader = new FileReader();
                        fileReader.onload = function(event) {
                            const jarData = event.target.result;

                            // Cargar el archivo JAR al emulador y ejecutarlo
                            emulator.loadJAR(jarData);
                            emulator.run(); // Ejecutar el archivo JAR
                        };
                        fileReader.readAsArrayBuffer(blob);
                    })
                    .catch(error => {
                        console.error("Error al cargar el archivo JAR:", error);
                    });
            } else {
                console.error("JS2ME no se ha cargado correctamente.");
                alert("Error al cargar la biblioteca JS2ME.");
            }
        }
    </script>
</body>
</html>
